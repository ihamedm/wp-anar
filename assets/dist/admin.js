/*! For license information please see admin.js.LICENSE.txt */
(()=>{var e={464:()=>{jQuery(document).ready((function(e){"use strict";var t=e("#awca-force-check-btn");t.length&&t.on("click",(function(t){t.preventDefault();var a=e(this),n=a.data("order-id"),o=e("#awca_force_check_nonce_field").val();n&&o?(a.prop("disabled",!0),a.html('<span class="dashicons dashicons-update dashicons-spin" style="margin-top: 3px;"></span> در حال بررسی...'),e.ajax({url:ajaxurl,type:"POST",data:{action:"awca_force_check_anar_products",order_id:n,awca_force_check_nonce_field:o},success:function(e){location.reload()},error:function(e,t,n){alert("خطا در ارتباط با سرور. لطفا دوباره تلاش کنید."),a.prop("disabled",!1),a.html('<span class="dashicons dashicons-update" style="margin-top: 3px;"></span> بررسی و شناسایی محصولات انار')}})):alert("خطا در دریافت اطلاعات. لطفا صفحه را رفرش کنید.")}))}))},816:()=>{jQuery(document).ready((function(e){var t=e("#anar_conf_feat__anar_shipping"),a=e("#anar_enable_multi_package_fee"),n=e("#anar_show_multi_package_alert"),o=e("#awca_multi_package_wrapper"),s=e('input[name="anar_multi_package_fee_method"]'),r=e("#awca_multiplier_method_content"),i=e("#awca_fixed_fee_method_content");function c(e,t){e.is(":checked")?t.text("فعال"):t.text("غیرفعال")}function d(){var e=a.is(":checked"),t=a.siblings(".awca-switch-label");c(a,t),e?(o.slideDown(300),l()):o.slideUp(300)}function l(){var t=e('input[name="anar_multi_package_fee_method"]:checked').val();e(".awca-fee-method-content").removeClass("active"),"multiplier"===t?r.addClass("active"):"fixed"===t&&i.addClass("active")}t.on("change",(function(){var t=e(this).siblings(".awca-switch-label");c(e(this),t)})),n.on("change",(function(){var t=e(this).siblings(".awca-switch-label");c(e(this),t)})),a.on("change",d),s.on("change",l),function(){if(t.length){var e=t.siblings(".awca-switch-label");c(t,e)}if(n.length){var o=n.siblings(".awca-switch-label");c(n,o)}d(),a.is(":checked")&&l()}()}))},736:function(e){var t,a;t=this,a=function(e){var t=function(e){return new t.lib.init(e)};function a(e,t){return t.offset[e]?isNaN(t.offset[e])?t.offset[e]:t.offset[e]+"px":"0px"}function n(e,t){return!(!e||"string"!=typeof t||!(e.className&&e.className.trim().split(/\s+/gi).indexOf(t)>-1))}return t.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},t.lib=t.prototype={toastify:"1.12.0",constructor:t,init:function(e){return e||(e={}),this.options={},this.toastElement=null,this.options.text=e.text||t.defaults.text,this.options.node=e.node||t.defaults.node,this.options.duration=0===e.duration?0:e.duration||t.defaults.duration,this.options.selector=e.selector||t.defaults.selector,this.options.callback=e.callback||t.defaults.callback,this.options.destination=e.destination||t.defaults.destination,this.options.newWindow=e.newWindow||t.defaults.newWindow,this.options.close=e.close||t.defaults.close,this.options.gravity="bottom"===e.gravity?"toastify-bottom":t.defaults.gravity,this.options.positionLeft=e.positionLeft||t.defaults.positionLeft,this.options.position=e.position||t.defaults.position,this.options.backgroundColor=e.backgroundColor||t.defaults.backgroundColor,this.options.avatar=e.avatar||t.defaults.avatar,this.options.className=e.className||t.defaults.className,this.options.stopOnFocus=void 0===e.stopOnFocus?t.defaults.stopOnFocus:e.stopOnFocus,this.options.onClick=e.onClick||t.defaults.onClick,this.options.offset=e.offset||t.defaults.offset,this.options.escapeMarkup=void 0!==e.escapeMarkup?e.escapeMarkup:t.defaults.escapeMarkup,this.options.ariaLive=e.ariaLive||t.defaults.ariaLive,this.options.style=e.style||t.defaults.style,e.backgroundColor&&(this.options.style.background=e.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var e=document.createElement("div");for(var t in e.className="toastify on "+this.options.className,this.options.position?e.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?e.className+=" toastify-left":e.className+=" toastify-right",e.className+=" "+this.options.gravity,this.options.backgroundColor,this.options.style)e.style[t]=this.options.style[t];if(this.options.ariaLive&&e.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)e.appendChild(this.options.node);else if(this.options.escapeMarkup?e.innerText=this.options.text:e.innerHTML=this.options.text,""!==this.options.avatar){var n=document.createElement("img");n.src=this.options.avatar,n.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?e.appendChild(n):e.insertAdjacentElement("afterbegin",n)}if(!0===this.options.close){var o=document.createElement("button");o.type="button",o.setAttribute("aria-label","Close"),o.className="toast-close",o.innerHTML="&#10006;",o.addEventListener("click",function(e){e.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var s=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&s>360?e.insertAdjacentElement("afterbegin",o):e.appendChild(o)}if(this.options.stopOnFocus&&this.options.duration>0){var r=this;e.addEventListener("mouseover",(function(t){window.clearTimeout(e.timeOutValue)})),e.addEventListener("mouseleave",(function(){e.timeOutValue=window.setTimeout((function(){r.removeElement(e)}),r.options.duration)}))}if(void 0!==this.options.destination&&e.addEventListener("click",function(e){e.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&e.addEventListener("click",function(e){e.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var i=a("x",this.options),c=a("y",this.options),d="left"==this.options.position?i:"-"+i,l="toastify-top"==this.options.gravity?c:"-"+c;e.style.transform="translate("+d+","+l+")"}return e},showToast:function(){var e;if(this.toastElement=this.buildToast(),!(e="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var a=t.defaults.oldestFirst?e.firstChild:e.lastChild;return e.insertBefore(this.toastElement,a),t.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(e){e.className=e.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),e.parentNode&&e.parentNode.removeChild(e),this.options.callback.call(e),t.reposition()}.bind(this),400)}},t.reposition=function(){for(var e,t={top:15,bottom:15},a={top:15,bottom:15},o={top:15,bottom:15},s=document.getElementsByClassName("toastify"),r=0;r<s.length;r++){e=!0===n(s[r],"toastify-top")?"toastify-top":"toastify-bottom";var i=s[r].offsetHeight;e=e.substr(9,e.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(s[r].style[e]=o[e]+"px",o[e]+=i+15):!0===n(s[r],"toastify-left")?(s[r].style[e]=t[e]+"px",t[e]+=i+15):(s[r].style[e]=a[e]+"px",a[e]+=i+15)}return this},t.lib.init.prototype=t.lib,t},e.exports?e.exports=a():t.Toastify=a()}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,a),s.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e,t,n=a(736),o=a.n(n);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";null!=e&&o()({text:e,duration:5e3,newWindow:!0,close:!0,style:{background:"error"===t?"#cc3e3e":"success"===t?"#25ae25":"#373636"},gravity:"bottom",position:"left",stopOnFocus:!0}).showToast()}function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}e=jQuery,t={move_to_step:function(e){var t=document.querySelectorAll(".step"),a=document.querySelectorAll(".step-title");t.forEach((function(t,a){a+1<=e?t.classList.add("active"):t.classList.remove("active")})),a.forEach((function(t,a){a+1==e?t.classList.add("activeTitle"):t.classList.remove("activeTitle")})),document.querySelectorAll(".stepContent").forEach((function(t,a){a+1===e?t.classList.add("active"):t.classList.remove("active")}));var n=2==e?85:86,o=(e-1)/(t.length-1)*n+"%";document.querySelector(".stepper-progress").style.width=o;var s=new URL(window.location),r=new URLSearchParams(s.search);r.set("step",e),s.search=r.toString(),window.history.replaceState({},"",s)},refreshData:function(){var e=jQuery("#refresh_anar_data");if(0!==e.length){var t=e.find(".data-item.categories"),a=e.find(".data-item.attributes");jQuery.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"awca_get_categories_save_on_db_ajax"},success:function(e){e.success?(t.addClass("loaded"),jQuery.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"awca_get_attributes_save_on_db_ajax"},success:function(e){e.success?(a.addClass("loaded"),s("همه اطلاعات دریافت شدند.","success"),setTimeout((function(){location.reload()}),2e3)):s(e.message,"error")},error:function(e,t,a){s(e.responseText)}})):s(e.message,"error")},error:function(e,t,a){s(e.responseText)}})}},moveToProperStep:function(){var e=new URLSearchParams(window.location.search).get("step");e&&!isNaN(e)&&t.move_to_step(parseInt(e))},clearSelect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"varient",a=jQuery(".varient_selcet"),n=jQuery(".category_select"),o=jQuery(".clear-cat-icon"),s=jQuery(".clear-icon");"varient"!==t?(n[e].selectedIndex=0,o[e].style.display="none"):(a[e].selectedIndex=0,s[e].style.display="none")},changeCategorySelect:function(e,t){var a=jQuery(".clear-cat-icon");"0"!==e.value?a[t].style.display="block":a[t].style.display="none"}},e(document).ready((function(){jQuery("#plugin_sync_form").on("submit",(function(e){e.preventDefault();var t=jQuery(this),a=t.find(".spinner-loading"),n=t.find("#full_sync");jQuery.ajax({url:t.attr("action"),type:"POST",dataType:"json",timeout:2e6,data:t.serialize(),beforeSend:function(){a.show(),n.is(":checked")&&(s("همگام سازی کل محصولات اندکی زمان بر خواهد بود و در پس زمینه انجام می شود.","success"),a.hide())},success:function(e){e.success?s(e.message,"success"):s(e.message,"error")},error:function(e,t,n){a.hide(),s(e.responseText)},complete:function(){a.hide()}})})),jQuery("#plugin_activation_form").on("submit",(function(e){e.preventDefault();var t=jQuery(this);jQuery.ajax({url:t.attr("action"),type:"POST",dataType:"json",data:t.serialize(),beforeSend:function(){jQuery(".spinner-loading").show()},success:function(e){e.success?s(e.message,"success"):(s(e.message,"error"),e.activation_status&&s(e.message,"success"))},error:function(e,t,a){jQuery(".spinner-loading").hide(),s(e.responseText)},complete:function(){jQuery(".spinner-loading").hide(),window.location.reload()}})})),jQuery("#plugin_category_creation_form").on("submit",(function(e){e.preventDefault();var a=jQuery(this);jQuery.ajax({url:a.attr("action"),type:"POST",data:a.serialize(),beforeSend:function(){jQuery(".spinner-loading").show(),jQuery(".configuration_save_button").attr("disabled","disabled")},success:function(e){e.success&&(s(e.message,"success"),t.move_to_step(3))},error:function(e,t,a){s(e.responseText),jQuery(".spinner-loading").hide(),jQuery(".configuration_save_button").removeAttr("disabled")},complete:function(){jQuery(".spinner-loading").hide(),jQuery(".configuration_save_button").removeAttr("disabled")}})})),jQuery("#plugin_attribute_creation_form").on("submit",(function(e){e.preventDefault();var a=jQuery(this);jQuery.ajax({url:a.attr("action"),type:"POST",dataType:"json",data:a.serialize(),beforeSend:function(){jQuery(".spinner-loading").show(),jQuery(".configuration_save_button").attr("disabled","disabled")},success:function(e){e.success&&(s(e.message,"success"),t.move_to_step(4))},error:function(e,t,a){s(e.responseText),jQuery(".spinner-loading").hide(),jQuery(".configuration_save_button").removeAttr("disabled")},complete:function(){jQuery(".spinner-loading").hide(),jQuery(".configuration_save_button").removeAttr("disabled")}})})),jQuery("#awca-dl-the-product-images").on("click",(function(t){t.preventDefault();var a=e(this).find(".spinner-loading"),n=e(this).data("product-id"),o="error";jQuery.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:{product_id:n,action:"awca_dl_the_product_images_ajax"},beforeSend:function(){a.show(),e(this).attr("disabled","disabled")},success:function(e){e.success&&(o="success"),s(e.data.message,o)},error:function(t,n,o){s("حطایی در برقراری ارتباط پیش آمده است."),a.hide(),e(this).removeAttr("disabled")},complete:function(){a.hide(),e(this).removeAttr("disabled"),setTimeout((function(){location.reload()}),2e3)}})})),jQuery("#get-save-categories-btn").on("click",(function(t){t.preventDefault(),e.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"awca_get_categories_save_on_db_ajax"},beforeSend:function(){e(".spinner-loading").show(),e("#get-save-categories-btn").attr("disabled","disabled")},success:function(e){e.success?(s(e.message,"success"),location.reload()):s(e.message,"error")},error:function(t,a,n){e(".spinner-loading").hide(),e("#get-save-categories-btn").removeAttr("disabled"),s(t.responseText)},complete:function(){e(".spinner-loading").hide(),e("#get-save-categories-btn").removeAttr("disabled")}})})),jQuery("#get-save-attributes-btn").on("click",(function(t){t.preventDefault();var a=e(this).find(".spinner-loading");e.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"awca_get_attributes_save_on_db_ajax"},beforeSend:function(){a.show(),e(this).attr("disabled","disabled")},success:function(e){e.success?(s(e.message,"success"),location.reload()):s(e.message,"error")},error:function(t,n,o){a.hide(),e(this).removeAttr("disabled"),s(t.responseText)},complete:function(){a.hide(),e(this).removeAttr("disabled")}})})),e("#handle-bg-process a").on("click",(function(t){t.preventDefault();var a=e(this).data("action");e.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"handle_process_actions",process_action:a},success:function(e){s("با موفقیت انجام شد.","success")},error:function(e,t,a){s("مشکلی بوجود آمده. خطا: "+a,"error")}})})),e("[data-next-step]").on("click",(function(){t.move_to_step(e(this).data("next-step"))})),e(".awca-faq").on("click",".faq-question",(function(t){t.preventDefault(),e(this).parents(".faq-item").toggleClass("active")})),e(".toggle_show_hide").on("click",(function(t){t.preventDefault();var a=e(this).data("id");e("#"+a).toggle()})),t.refreshData(),t.moveToProperStep()})),jQuery(document).ready((function(e){!function(){var t=e("#awca-dl-all-product-gallery-images"),a=t.find(".spinner-loading"),n=t.find(".awca_ajax-result"),o=t.find(".awca_ajax-result-progress"),r=t.find("#dl_product_g_imgs_btn"),i=t.find(".process-controllers");if(0!==t.length){t.on("submit",(function(t){t.preventDefault();var o="error",i=1,c=0;!function t(){e.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:{action:"awca_run_dl_product_gallery_images_bg_process_ajax",paged:i},beforeSend:function(){a.show(),r.attr("disabled","disabled")},success:function(e){if(e.success){if(o="success",(c+=e.data.queued_products)>0){var d=c+" محصول به صف دانلود تصاویر گالری اضافه شد.";n.addClass("success").text(d)}e.data.finished?(a.hide(),s(e.data.message,o),setInterval((function(){location.reload()}),1e3)):(i=e.data.next_paged,t())}else a.hide(),r.removeAttr("disabled"),s(e.data.message,o)},error:function(e,t,n){a.hide(),r.removeAttr("disabled"),s(e.responseText)},complete:function(){}})}()})),0!==i.length&&(setInterval((function(){e.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:{action:"awca_dl_product_gallery_images_bg_process_data_ajax"},beforeSend:function(){},success:function(e){if(e.success)if("processing"===e.data.process_status||"queued"===e.data.process_status){var a=e.data.processed_products,n=(e.data.queued_products,e.data.total_products),r=Math.ceil(100*a/n);if(o.show(),r<=100){o.find(".bar").animate({width:r+"%"},500);var i=r+"%";t.find(".process_data_message").text(i)}}else s("دریافت تصاویر با موفقیت به اتمام رسید.","success"),setInterval((function(){location.reload()}),2e3)},error:function(e,t,a){s(e.responseText)},complete:function(){}})}),2e3),i.find("a").on("click",(function(t){t.preventDefault();var a=e(this).data("action");e.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"awca_handle_dl_product_gallery_images_process_actions",process_action:a},success:function(t){e(this).hide(),e(this).hasClass("pause")?i.find(".resume").show():e(this).hasClass("resume")?i.find(".pause").show():e(this).hasClass("cancel")&&location.reload(),s("عملیات با موفقیت انجام شد.","success")},error:function(e,t,a){s("مشکلی در انجام درخواست شما بوجود آمد. خطا: "+a,"error")}})})))}}()}));var d,l,u,p,f,h=(d=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],l=function(){function e(t){var a=t.targetModal,n=t.triggers,o=void 0===n?[]:n,s=t.onShow,r=void 0===s?function(){}:s,c=t.onClose,d=void 0===c?function(){}:c,l=t.openTrigger,u=void 0===l?"data-micromodal-trigger":l,p=t.closeTrigger,f=void 0===p?"data-micromodal-close":p,h=t.openClass,m=void 0===h?"is-open":h,v=t.disableScroll,g=void 0!==v&&v,_=t.disableFocus,y=void 0!==_&&_,b=t.awaitCloseAnimation,w=void 0!==b&&b,j=t.awaitOpenAnimation,x=void 0!==j&&j,k=t.debugMode,T=void 0!==k&&k;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=document.getElementById(a),this.config={debugMode:T,disableScroll:g,openTrigger:u,closeTrigger:f,openClass:m,onShow:r,onClose:d,awaitCloseAnimation:w,awaitOpenAnimation:x,disableFocus:y},o.length>0&&this.registerTriggers.apply(this,i(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t,a;return t=e,(a=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];a.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){this.modal.addEventListener("animationend",(function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()}),!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var a=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(a),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(d);return Array.apply(void 0,i(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var a=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));a.length>0&&a[0].focus(),0===a.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var a=t.indexOf(document.activeElement);e.shiftKey&&0===a&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&a===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&r(t.prototype,a),e}(),u=null,p=function(e){if(!document.getElementById(e))return!1},f=function(e,t){if(function(e){e.length}(e),!t)return!0;for(var a in t)p(a);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),a=i(document.querySelectorAll("[".concat(t.openTrigger,"]"))),n=function(e,t){var a=[];return e.forEach((function(e){var n=e.attributes[t].value;void 0===a[n]&&(a[n]=[]),a[n].push(e)})),a}(a,t.openTrigger);if(!0!==t.debugMode||!1!==f(a,n))for(var o in n){var s=n[o];t.targetModal=o,t.triggers=i(s),u=new l(t)}},show:function(e,t){var a=t||{};a.targetModal=e,!0===a.debugMode&&!1===p(e)||(u&&u.removeEventListeners(),(u=new l(a)).showModal())},close:function(e){e?u.closeModalById(e):u.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=h);const m=h;function v(e){var t=e("#awca-open-preorder-modal");0!==t.length&&t.on("click",(function(t){t.preventDefault();try{m.show("preorder-modal"),function(e){var t=e("#awca-create-anar-order").data("order-id");if(!t)return;var a=e("#shipping-options-display");a.html('<div class="anar-bg-loading animated" style="padding:16px;border-radius: 10px"><span class="text">در حال بارگذاری روش‌های ارسال...</span></div>'),e.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:{action:"awca_get_shipping_options_ajax",order_id:t},success:function(t){t.success?function(e,t,a){var n=e("#shipping-options-display"),o=e("#shipping-options-section");a&&o.find("h5").html(a);n.html(t),setTimeout((function(){g(e),function(e){var t=e(".anar-shipments-package-row");t.off("change",'input[name^="shipping_option_"]'),t.on("change",'input[name^="shipping_option_"]',(function(){g(e)}))}(e)}),100)}(e,t.data.shipping_html,t.data.shipping_heading):a.html('<div class="error">خطا در بارگذاری روش‌های ارسال: '+t.data.message+"</div>")},error:function(e,t,n){a.html('<div class="error">خطا در بارگذاری روش‌های ارسال</div>')}})}(e)}catch(t){}})),e('input[name="order_type"]').on("change",(function(){var t=e(this).val();!function(e,t){var a=e("#customer-address-section"),n=e("#shipping-options-section"),o=e("#stock-address-display-section"),s=e("#no-stock-address-section"),r=e("#stock-address-section");"retail"===t?(a.show(),n.show(),o.hide(),s.hide(),r.hide()):(a.hide(),n.hide(),o.show(),s.show(),r.show())}(e,t)})),e("#awca-create-anar-order").on("click",(function(t){t.preventDefault(),function(e){var t=e("#awca-create-anar-order").data("order-id"),a=e('input[name="order_type"]:checked').val();if(!t)return void s("خطا: شناسه سفارش یافت نشد","error");if("retail"===a){if(!(e('input[name^="shipping_option_"]:checked').length>0))return void s("لطفاً روش ارسال را انتخاب کنید","error")}var n=e("#awca-create-anar-order"),o=n.find(".spinner-loading");o.show(),n.prop("disabled",!0);var r={action:"awca_create_anar_order_ajax",order_id:t,order_type:a};e('input[name^="shipping_option_"]:checked').each((function(){var t=e(this).attr("name"),a=e(this).val();r[t]=a})),e('input[name^="shipment_id_"]').each((function(){var t=e(this).attr("name"),a=e(this).val();r[t]=a}));var i=e("#anar-total-shipping-fee").text().replace(/[^\d.]/g,"")||"0";r.total_shipping_fee=i,e.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:r,success:function(e){e.success?(s(e.data.message,"success"),m.close("preorder-modal"),setTimeout((function(){location.reload()}),1500)):s(e.data.message,"error")},error:function(e,t,a){s("خطا در ایجاد سفارش","error")},complete:function(){o.hide(),n.prop("disabled",!1)}})}(e)}))}function g(e){var t=0,a=e(".anar-shipments-package-row");if(0!==a.length){a.each((function(a){var n=e(this),o=n.find('input[name^="shipping_option_"]:checked');0===o.length&&((o=n.find('input[name^="shipping_option_"]').first()).length>0&&o.prop("checked",!0));if(o.length>0){var s=o.closest("label").find(".price");if(0===s.length){var r=o.closest(".anar-delivery-option");if(r.length>0){var i=r.find(".price");if(i.length>0){var c=i.data("raw-price");if(null!=c){var d=parseFloat(c)||0;t+=d}}}else{var l=o.siblings().find(".price");if(l.length>0){var u=l.data("raw-price");if(null!=u){var p=parseFloat(u)||0;t+=p}}}}else{var f=s.data("raw-price");if(null!=f){var h=parseFloat(f)||0;t+=h}}}}));var n=e("#anar-total-shipping-fee");if(n.length>0){var o,s=(null===(o=n.text().match(/[^\d.\s]+$/))||void 0===o?void 0:o[0])||"",r=t.toLocaleString("fa-IR")+" "+s;n.text(r)}}}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.orderId,n=t.orderType,o=void 0===n?"retail":n,r=t.onSuccess,i=void 0===r?null:r,c=t.onError,d=void 0===c?null:c,l=t.onComplete,u=void 0===l?null:l,p=e("#awca-create-anar-order"),f=p.find(".spinner-loading"),h="error",v={order_id:a,action:"awca_create_anar_order_ajax"};o&&(v.order_type=o),jQuery.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:v,beforeSend:function(){f.show(),p.attr("disabled","disabled")},success:function(e){e.success?(h="success",setTimeout((function(){location.reload()}),1e3)):h="error",s(e.data.message,h),i&&"function"==typeof i&&i(e)},error:function(e,t,a){s(e.responseText),d&&"function"==typeof d&&d(e,t,a)},complete:function(){try{m.close("preorder-modal")}catch(e){}f.hide(),p.removeAttr("disabled"),u&&"function"==typeof u&&u()}})}function y(e){if(0!==e(".anar-order-type-section").length){if(window.stockAddressChanged=!1,e('input[name="order_type"][type="hidden"]').length>0)return b(e),e("#customer-address-section").show(),e("#stock-address-section").hide(),e("#stock-address-display-section").hide(),e("#no-stock-address-section").hide(),void e(".stock-shipping-fee").hide();b(e),function(e){e.ajax({url:ajaxurl,type:"POST",data:{action:"awca_load_stock_address_ajax",awca_nonce_field:e("#awca_nonce_field").val()},success:function(t){t.success?(e("#stock-address-display").html(t.data.address),window.stockAddressData=t.data.data):window.stockAddressData=null},error:function(){window.stockAddressData=null}})}(e),function(e){e.ajax({url:ajaxurl,type:"POST",data:{action:"awca_get_shipping_fee_ajax",awca_nonce_field:e("#awca_nonce_field").val()},success:function(t){t.success?e(".stock-shipping-fee").html(t.data.message):s(t.data.message||"خطا در دریافت اطلاعات هزینه ارسال","error")},error:function(){s("خطا در ارتباط با سرور برای دریافت هزینه ارسال","error")}})}(e),e('input[name="order_type"]').on("change",(function(){!function(e,t){"retail"===t?(e("#customer-address-section").show(),e("#stock-address-section").hide(),e("#stock-address-display-section").hide(),e("#no-stock-address-section").hide(),e(".stock-shipping-fee").hide(),O(e)):"wholesale"===t&&(e("#customer-address-section").hide(),e(".stock-shipping-fee").show(),window.stockAddressData?function(e){e("#stock-address-display-section").show(),e("#stock-address-section").hide(),e("#no-stock-address-section").hide()}(e):function(e){e("#no-stock-address-section").show(),e("#stock-address-display-section").hide(),e("#stock-address-section").hide()}(e))}(e,e(this).val())})),e("#awca-create-anar-order").on("click",(function(t){!function(e,t){var a=e('input[name="order_type"][type="hidden"]').val(),n=a||e('input[name="order_type"]:checked').val();"wholesale"===n?(t.preventDefault(),function(e){if(e("#stock-address-display-section").is(":visible"))return void j(e,"wholesale");if(!function(e){var t=!0,a=["stock_first_name","stock_last_name","stock_address","stock_postcode","stock_phone"];O(e),a.forEach((function(a){var n=e("#"+a);x(e,n)||(t=!1)}));var n=e("#stock_state"),o=e("#stock_city");n.length&&"تهران"!==n.val()&&n.val("تهران");o.length&&"تهران"!==o.val()&&o.val("تهران");var r=e("#stock_postcode").val();r&&!/^\d{10}$/.test(r)&&(k(e,"#stock_postcode","کد پستی باید ۱۰ رقم باشد"),t=!1);var i=e("#stock_phone").val();i&&!/^09\d{9}$/.test(i)&&(k(e,"#stock_phone","شماره موبایل باید با ۰۹ شروع شده و ۱۱ رقم باشد"),t=!1);t||s("لطفاً تمام فیلدهای آدرس انبار را به درستی پر کنید","error");return t}(e))return;if(window.stockAddressChanged){var t={action:"awca_save_stock_address_ajax",awca_nonce_field:e("#awca_nonce_field").val(),stock_first_name:e("#stock_first_name").val(),stock_last_name:e("#stock_last_name").val(),stock_state:e("#stock_state").val(),stock_city:e("#stock_city").val(),stock_address:e("#stock_address").val(),stock_postcode:e("#stock_postcode").val(),stock_phone:e("#stock_phone").val()},a=e("#awca-create-anar-order"),n=a.html();a.prop("disabled",!0).html("در حال ذخیره آدرس و ایجاد سفارش..."),e.ajax({url:ajaxurl,type:"POST",data:t,success:function(t){t.success?j(e,"wholesale"):(s(t.data.message||"خطا در ذخیره آدرس","error"),a.prop("disabled",!1).html(n))},error:function(){s("خطا در ارتباط با سرور","error"),a.prop("disabled",!1).html(n)}})}else j(e,"wholesale")}(e)):(t.preventDefault(),j(e,n))}(e,t)})),e("#stock-address-section input, #stock-address-section textarea").on("blur",(function(){x(e(this))})),e("#edit-stock-address-btn").on("click",(function(t){t.preventDefault(),w(e)})),e("#add-stock-address-btn").on("click",(function(t){t.preventDefault(),w(e)})),e("#stock-address-section input, #stock-address-section textarea").on("input change",(function(){window.stockAddressChanged=!0}))}}function b(e){var t=e("#awca-create-anar-order").data("order-id");t&&e.ajax({url:ajaxurl,type:"POST",data:{action:"awca_get_order_address_ajax",order_id:t,nonce:e("#awca_nonce_field").val()},success:function(t){t.success?e("#customer-address-display").html(t.data.address):e("#customer-address-display").html('<span style="color: #e74c3c;">خطا در دریافت آدرس مشتری</span>')},error:function(){e("#customer-address-display").html('<span style="color: #e74c3c;">خطا در دریافت آدرس مشتری</span>')}})}function w(e){e("#stock-address-display-section").hide(),e("#no-stock-address-section").hide(),e("#stock-address-section").show(),window.stockAddressData&&function(e,t){e("#stock_first_name").val(t.first_name||""),e("#stock_last_name").val(t.last_name||""),e("#stock_state").val("تهران"),e("#stock_city").val("تهران"),e("#stock_address").val(t.address||""),e("#stock_postcode").val(t.postcode||""),e("#stock_phone").val(t.phone||"")}(e,window.stockAddressData),window.stockAddressChanged=!0}function j(e,t){var a=e("#awca-create-anar-order").data("order-id");_(e,{orderId:a,orderType:t})}function x(e,t){return t.val().trim()?(T(e,t),!0):(k(e,t,"این فیلد اجباری است"),!1)}function k(e,t,a){var n="string"==typeof t?e(t):t;T(e,n),n.css("border-color","#e74c3c");var o=e('<div class="field-error" style="color: #e74c3c; font-size: 12px; margin-top: 5px;">'+a+"</div>");n.after(o)}function T(e,t){t.css("border-color",""),t.siblings(".field-error").remove()}function O(e){e("#stock-address-section input, #stock-address-section textarea").each((function(){T(0,e(this))}))}try{m.init({openTrigger:"data-payment-modal-open",disableFocus:!1,disableScroll:!0,awaitCloseAnimation:!0})}catch(r){}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){C(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){L(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function L(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function F(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=M(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==M(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,s,r,i=[],c=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=s.call(a)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){d=!0,o=e}finally{try{if(!c&&null!=a.return&&(r=a.return(),Object(r)!==r))return}finally{if(d)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}jQuery(document).ready((function(e){e(document).on("click",".modal__container",(function(e){e.stopPropagation()}))})),jQuery(document).ready((function(e){v(e),function(e){e(document).on("click","#awca-create-anar-order",(function(t){t.preventDefault();var a=e(this).data("order-id");_(e,{orderId:a,orderType:"retail"})}))}(e),function(e){var t=e("#anar-order-details");if(0!==t.length){var a=t.find(".spinner-loading"),n=t.data("order-id"),o="error";jQuery.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:{order_id:n,action:"awca_fetch_order_details_ajax"},beforeSend:function(){a.show()},success:function(e){if(e.success&&(t.html(e.data.output),o="success"),s(e.data.message,o),"unpaid"==e.data.paymentStatus)try{m.show("order-payment-modal")}catch(e){}},error:function(e,t,n){s(e.responseText),a.hide()},complete:function(){a.hide()}})}}(e),function(e){e(document).on("click",".anar-package-data header",(function(t){t.preventDefault(),e(this).parent("div").toggleClass("open")}))}(e),y(e)})),jQuery(document).ready((function(e){var t=e(".awca_product_list_table"),a=e(".stepper_button_container"),n=e(".pagination");if(0!==t.length){var o=function(o){t.find("tbody").html("\n            ".concat('<tr class="placeholder"><td>—</td><td><div class="placeholder-image"></div></td><td><div class="placeholder-text"></div></td><td><div class="placeholder-text"></div></td><td><div class="placeholder-text"></div></td><td><div class="placeholder-text"></div></td><td><div class="placeholder-text"></div></td><td><div class="placeholder-text"></div></td></tr>'.repeat(10),"\n        ")),r=o,e.ajax({url:awca_ajax_object.ajax_url,type:"GET",data:{action:"awca_fetch_products_paginate_ajax",page:o},success:function(d){if(d.success){var l=d.data.items;if(l&&l.length>0){var u=t.find(".list"),p="";e.each(l,(function(e,t){var a;p+='<tr class="item">',p+="<td>"+((r-1)*c+(e+1))+"</td>",p+='<td><img class="awca_product_images" src="'+(t.mainImage?t.mainImage:"")+'" alt="'+t.title+'"></td>',p+='<td class="awca_product_title">'+t.title+"</td>",p+='<td style="cursor: pointer;" >'+function(e){var t=20;if(!e)return e;var a=e.replace(/<\/?[^>]+>/gi,"").trim().split(/\s+/);return a.length>0?a.slice(0,t).join(" "):e}(null!==(a=t.description)&&void 0!==a?a:"")+"...</td>",p+='<td style="cursor: pointer;" >مشاهده</td>',p+='<td class="awca_product_price">'+t.variants[0].priceForResell+" تومان</td>",p+='<td class="awca_product_price">'+t.variants[0].price+" تومان</td>",p+='<td style="cursor: pointer;" onclick="awca_complete_desc(\''+JSON.stringify(t.shipments)+"', 'روش‌های ارسال محصول')\">مشاهده</td>",p+="</tr>"})),u.html(p),i=Math.ceil(d.data.total/c),e("#current-page").text(o),e("#prev-page").prop("disabled",1===o),e("#next-page").prop("disabled",0===l.length),s(o,i)}else t.hide(),a.hide(),n.hide(),e(".awca-alert-area").html('<p class="alert alert-warning">شما هنوز حق فروش هیچ محصولی را نگرفته اید. به پنل انار خود مراجعه کنید و حق فروش محصولاتی را که میخواهید بفروشید دریافت کنید.</p>')}},error:function(e){}})},s=function(t,a){var n=e("#pagination-numbers");if(n.empty(),t>1){var s=e('<li class="prev">قبلی</li>');s.click((function(){o(t-1)})),n.append(s)}if(a<=6)for(var r=1;r<=a;r++){var i=e("<li>"+r+"</li>");r===t&&i.addClass("active"),i.click(function(e){return function(){o(e)}}(r)),n.append(i)}else{for(r=1;r<=2;r++){i=e("<li>"+r+"</li>");r===t&&i.addClass("active"),i.click(function(e){return function(){o(e)}}(r)),n.append(i)}t>4&&n.append('<li class="dots">...</li>');for(r=Math.max(3,t-1);r<=Math.min(a-2,t+1);r++)if(r>2&&r<a-1){i=e("<li>"+r+"</li>");r===t&&i.addClass("active"),i.click(function(e){return function(){o(e)}}(r)),n.append(i)}t<a-3&&n.append('<li class="dots">...</li>');for(r=a-1;r<=a;r++){i=e("<li>"+r+"</li>");r===t&&i.addClass("active"),i.click(function(e){return function(){o(e)}}(r)),n.append(i)}}if(t<a){var c=e('<li class="next">بعدی</li>');c.click((function(){o(t+1)})),n.append(c)}},r=1,i=1,c=10;e("#prev-page").click((function(){r>1&&(r--,o(r))})),e("#next-page").click((function(){r++,o(r)})),o(r)}})),jQuery(document).ready((function(e){var t=e("#get-save-products-btn"),a=!1;0!==t.length&&(t.on("click",(function(n){n.preventDefault();var o=e(this).find(".spinner-loading"),r=e(this).next(".awca_step-ajax-result"),i=e(this).parent(".awca-save-products-wrapper").find(".awca_step-ajax-result-progress"),c=0,d=0,l=0,u=!0;a=!0,function n(p){e.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"awca_get_products_save_on_db_ajax",page:p},beforeSend:function(){o.show(),t.attr("disabled","disabled")},success:function(e){if(e.success){d+=e.total_added,l=e.total_products;var c=100*d/l+"%";i.show(),i.find(".bar").animate({width:c},500);var f=d+" محصول از کل "+l+" دریافت شد";r.addClass("success").text(f),(u=e.has_more)?n(p+1):(o.hide(),r.append('<p style="font-weight:bold;">همه محصولات انار دریافت شد. ساخت محصولات در پس زمینه انجام می شود. می توانید این صفحه را ببندید.</p>'),s("کل محصولات انار دریافت شد.","success"),a=!1)}else r.addClass("error").text(e.message),s(e.message,"error"),o.hide(),t.removeAttr("disabled"),a=!1},error:function(e,i,d){c<10?(s("ارتباط قطع شد. تلاش مجدد ... ("+ ++c+"/10)"),n(p)):(o.hide(),t.removeAttr("disabled"),r.addClass("error").text("ارتباط پس از 10 تلاش مجدد قطع شد!"),a=!1)},complete:function(){u||o.hide()}})}(1)})),window.addEventListener("beforeunload",(function(e){if(a){var t="در صورت بستن یا باگزاری مجدد دریافت اطلاعات از انار قطع می شود. مطمئنید؟";return(e||window.event).returnValue=t,t}}))),e("#start_bg_process_products").on("click",(function(t){t.preventDefault(),e.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"awca_run_product_creation_background_process_ajax",nonce:awca_ajax_object.nonce},success:function(e){s("ساخت محصولات در پس زمینه شروع شد.","success")},error:function(e,t,a){s("مشکلی در شروع فرآیند پس زمینه ایجاد شد.","error")}})}))})),jQuery(document).ready((function(e){var t,a,n;t=e("#awca-reset-all-settings"),a=t.find(".spinner-loading"),n=t.find("#awca_reset_options_btn"),0!==t.length&&t.on("submit",(function(o){o.preventDefault();var r="error";e.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:{action:"awca_reset_all_settings_ajax",delete_maps:t.find("#delete_map_data").prop("checked")},beforeSend:function(){a.show(),n.attr("disabled","disabled")},success:function(e){e.success?(r="success",s(e.data.message,r)):(a.hide(),n.removeAttr("disabled"),s(e.data.message,r))},error:function(e,t,o){a.hide(),n.removeAttr("disabled"),s(e.responseText)},complete:function(){a.hide(),n.removeAttr("disabled")}})}))})),jQuery(document).ready((function(e){var t;0!==(t=e("#publish-anar-products")).length&&t.on("submit",(function(a){a.preventDefault();var n=t.find(".submit-button"),o=n.find(".spinner-loading"),r=t.find(".anar-batch-progress"),i=t.find(".anar-batch-messages"),c=0,d=0,l="error";!function a(u){e.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:{action:"awca_publish_draft_products_ajax",page:u,limit:100,security_nonce:t.find('input[name="security_nonce"]').val(),skipp_out_of_stocks:t.find('input[name="skipp_out_of_stocks"]').prop("checked")},beforeSend:function(){o.show(),r.show(),i.show(),n.attr("disabled","disabled")},success:function(e){if(e.success){l="success",c+=e.loop_products,1===u&&(d=e.found_products);var t=(c/d*100).toFixed(2)+"%";r.show(),r.find(".bar").animate({width:t},500);var p=c+" محصول از کل "+d+" پردازش شد";i.addClass("success").text(p),e.has_more?a(u+1):(i.addClass("success").text("همه محصولات پردازش شدند"),s("همه محصولات پردازش شدند","success"))}else i.addClass("error").text(e.message),o.hide(),n.removeAttr("disabled"),s(e.message,l)},error:function(e,t,a){o.hide(),n.removeAttr("disabled"),s(e.responseText)},complete:function(){o.hide(),n.removeAttr("disabled")}})}(1)}))})),jQuery(document).ready((function(e){e(".anar-ajax-action").each((function(){var t=e(this),a=t.find(".spinner-loading");t.on("click",(function(n){n.preventDefault();for(var o={},r=t[0].attributes,i=0;i<r.length;i++){var c=r[i];if(c.name.startsWith("data-"))o[c.name.replace("data-","")]=c.value}var d="success"===t.data("reload"),l="error"===t.data("reload"),u="complete"===t.data("reload"),p=parseInt(t.data("reload-timeout"))||0;e.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:o,beforeSend:function(){a.show(),t.addClass("disabled").attr("disabled","disabled")},success:function(e){var a=e.success?"success":"error";(t.trigger("anar_ajax_action_success",[e,a]),e.data&&e.data.message&&s(e.data.message,a),e.success&&d)&&setTimeout((function(){location.reload()}),p>0?p:1e3)},error:function(e,a,n){(t.trigger("anar_ajax_action_error",[e,a,n]),s(e.responseText||"An error occurred","error"),l)&&setTimeout((function(){location.reload()}),p>0?p:2e3)},complete:function(){(a.hide(),t.removeClass("disabled").removeAttr("disabled"),u)&&setTimeout((function(){location.reload()}),p>0?p:1500)}})}))}))})),jQuery(document).ready((function(e){e(".anar-tool-ajax-form").each((function(){var t=e(this),a=t.find(".spinner-loading"),n=t.find(".tool_submit_btn");t.on("submit",(function(o){o.preventDefault();var r=t.serializeArray(),i={};t.find("input, select, textarea").each((function(){var t=e(this);t.attr("name")&&!t.prop("disabled")&&(i[t.attr("name")]=t.val())}));var c=P(P({action:t.find('input[name="action"]').val()||""},Object.fromEntries(r.map((function(e){return[e.name,e.value]})))),i);e.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:c,beforeSend:function(){a.show(),n.attr("disabled","disabled")},success:function(e){var a=e.success?"success":"error";t.trigger("awca_ajax_form_success",[e,a]),e.data&&e.data.message&&s(e.data.message,a),e.success&&t[0].reset()},error:function(e,a,n){t.trigger("awca_ajax_form_error",[e,a,n]),s(e.responseText||"An error occurred","error")},complete:function(){a.hide(),n.removeAttr("disabled")}})}))})),e(".access-menu").on("click",".access-menu-toggle",(function(t){t.preventDefault(),e(this).siblings("ul").toggle()}))})),jQuery(document).ready((function(e){var t,a,n;t=e("#anar_tools_not_sync_form"),a=t.find("#submit-form-btn"),n=e("#anar_tools_sync_outdated"),0!==t.length&&t.on("submit",(function(o){o.preventDefault();var r="error",i=t.serializeArray(),c={};t.find("input, select, textarea").each((function(){var t=e(this);t.attr("name")&&!t.prop("disabled")&&(c[t.attr("name")]=t.val())}));var d=Q(Q({action:t.find('input[name="action"]').val()||""},Object.fromEntries(i.map((function(e){return[e.name,e.value]})))),c);e.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:d,beforeSend:function(){a.addClass("loading"),a.attr("disabled","disabled")},success:function(e){e.success&&(r="success"),e.data.found_posts>0&&n.show(),t.find(".form-results").show().html(e.data.message),s(e.data.toast,r)},error:function(e,t,a){s(e.responseText)},complete:function(){a.removeClass("loading"),a.removeAttr("disabled")}})}))})),jQuery(document).ready((function(e){var t,a=e("#anar-system-reports"),n=e("#anar-download-system-report"),o=e("#anar-show-system-report"),r="",i=!1;n.prop("disabled",!0),o.prop("disabled",!0),n.on("click",(function(){if(r){var e=new Date,t="system-report-".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"),"-").concat(String(e.getHours()).padStart(2,"0")).concat(String(e.getMinutes()).padStart(2,"0"),".txt"),a=new Blob([r],{type:"text/plain;charset=utf-8"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,t);else{var n=document.createElement("a");n.href=URL.createObjectURL(a),n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(n.href)}s("فایل گزارش با موفقیت دانلود شد","success")}else s("اطلاعاتی برای دانلود وجود ندارد","error")})),o.on("click",(function(){(i=!i)?(a.slideDown(300),o.text("پنهان کردن گزارش")):(a.slideUp(300),o.text("نمایش گزارش"))})),t=a.data("action"),0!==a.length&&e.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:{action:t},beforeSend:function(){s("در حال دریافت اطلاعات","success"),a.val("در حال دریافت اطلاعات..."),n.prop("disabled",!0),o.prop("disabled",!0)},success:function(e){var t=e.success?"success":"error";e.data&&(e.data.toast&&s(e.data.toast,t),r=e.data.text_report,a.val(r),e.data.table_data&&function(e){var t=document.getElementById("anar-system-reports-table"),a={};Object.entries(e).forEach((function(e){var t=I(e,2),n=t[0],o=t[1];a[o.group]||(a[o.group]=[]),a[o.group].push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){F(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({key:n},o))}));var n=Object.entries(a).map((function(e){var t=I(e,2),a=t[0],n=t[1];return'\n            <div class="anar-report-group">\n                <h3>'.concat(a,'</h3>\n                <table class="anar-report-table">\n                    <tbody>\n                        ').concat(n.map((function(e){return"\n                            <tr>\n                                <td>".concat(e.label,"</td>\n                                <td>\n                                    ").concat((t=e.status,{good:'<span class="status-icon status-good dashicons dashicons-yes-alt"></span>',warning:'<span class="status-icon status-warning dashicons dashicons-warning"></span>',critical:'<span class="status-icon status-critical dashicons dashicons-dismiss"></span>'}[t]||""),"\n                                    ").concat(e.is_link?'<a href="'.concat(e.url,'" class="report-link" target="_blank">\n                                             ').concat(e.value,'\n                                             <span class="dashicons dashicons-external"></span>\n                                           </a>'):e.value,"\n                                </td>\n                            </tr>\n                        ");var t})).join(""),"\n                    </tbody>\n                </table>\n            </div>\n        ")})).join("");t.innerHTML=n}(e.data.table_data),n.prop("disabled",!1),o.prop("disabled",!1))},error:function(e,t,r){s(e.responseText||"خطا در دریافت اطلاعات","error"),a.val("خطا در دریافت اطلاعات. لطفا مجددا تلاش کنید."),n.prop("disabled",!0),o.prop("disabled",!0),i=!1,a.hide(),o.text("نمایش گزارش")}})})),jQuery(document).ready((function(e){var t=e("#anar-dl-products-gallery"),a=t.find("#anar_dl_products_gallery"),n=t.find("#anar_estimate_products_gallery");a.on("click",(function(a){a.preventDefault();var n=e(this),o=n.find(".spinner-loading"),r=t.find(".anar-batch-progress"),i=t.find(".anar-batch-messages"),c=0,d=0,l=0,u="error";!function a(p){e.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:{action:"anar_dl_products_gallery_ajax",page:p,limit:1,security_nonce:t.find('input[name="security_nonce"]').val(),max_images:t.find('input[name="max_images"]').val()},beforeSend:function(){o.show(),r.show(),i.show(),n.attr("disabled","disabled")},success:function(e){if(e.success){u="success",c+=e.loop_products,d+=e.total_downloaded,1===p&&(l=e.found_products);var t=(c/l*100).toFixed(2)+"%";r.show(),r.find(".bar").animate({width:t},100);var f=c+" محصول از کل "+l+" پردازش شد - "+d+" تصویر دانلود شد.";i.addClass("success").text(f),e.has_more?a(p+1):(i.addClass("success").text("همه محصولات پردازش شدند"),s("همه محصولات پردازش شدند","success"))}else i.addClass("error").text(e.message),o.hide(),n.removeAttr("disabled"),s(e.message,u)},error:function(e,t,a){o.hide(),n.removeAttr("disabled"),s(e.responseText)},complete:function(){o.hide(),n.removeAttr("disabled")}})}(1)})),n.on("click",(function(n){n.preventDefault();var o=e(this),r=o.find(".spinner-loading"),i=t.find(".estimate-messages"),c="error";e.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:{action:"anar_estimate_products_gallery_ajax",max_images:t.find('input[name="max_images"]').val()},beforeSend:function(){r.show(),i.show(),o.attr("disabled","disabled")},success:function(e){e.success?(c="success",i.addClass("success").html(e.data.message),setTimeout((function(){a.slideDown(300)}),1e3)):(i.addClass("error").html(e.data.message),r.hide(),o.removeAttr("disabled"),s(e.message,c))},error:function(e,t,a){r.hide(),o.removeAttr("disabled"),s(e.responseText)},complete:function(){r.hide(),o.removeAttr("disabled")}})}))})),jQuery(document).ready((function(){!function e(t,a){var n=jQuery("#awca_notification_list"),o=jQuery("#mark-page-as-read-btn"),r=o.find(".spinner-loading");if(0!==n.length){var i=n.find(".spinner-loading"),c="error";jQuery.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:{action:"anar_fetch_notifications_ajax",page:t,limit:a},beforeSend:function(){i.show(),o.prop("disabled",!0)},success:function(t){t.success&&(n.html(t.data.output),c="success",function(t,a,n){for(var o=jQuery("#awca_pagination"),s=Math.ceil(t/n),r="",i=1;i<=s;i++)r+='<button class="pagination-btn '+(i===a?"current":"")+'" data-page="'+i+'">'+i+"</button>";o.html(r),o.find(".pagination-btn").on("click",(function(){e(jQuery(this).data("page"),n)}))}(t.data.total,t.data.page,t.data.limit),function(e,t){o.attr("data-page",e),o.attr("data-limit",t)}(t.data.page,t.data.limit)),s(t.data.message,c)},error:function(e,t,a){s(e.responseText),i.hide()},complete:function(){i.hide(),o.prop("disabled",!1)}}),o.on("click",(function(e){!function(e,t){var a="error";jQuery.ajax({url:awca_ajax_object.ajax_url,type:"POST",dataType:"json",data:{action:"anar_mark_as_read_notifications_ajax",page:e,limit:t},beforeSend:function(){r.show(),o.prop("disabled",!0)},success:function(e){e.success&&(a="success"),s(e.data.message,a)},error:function(e,t,a){s(e.responseText)},complete:function(){r.hide(),o.prop("disabled",!1)}})}(jQuery(this).data("page"),jQuery(this).data("limit"))}))}}(1,100)})),jQuery(document).ready((function(e){e("#anar-create-indexes").on("click",(function(t){t.preventDefault();var a=e(this),n=a.html();a.prop("disabled",!0).html('<span class="dashicons dashicons-update"></span> در حال بهینه‌سازی...'),e("#anar-performance-status").show(),e("#anar-performance-message").html('<span class="dashicons dashicons-update" style="animation: spin 1s linear infinite;"></span> در حال بهینه‌سازی پایگاه داده...'),e.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"anar_create_indexes"},success:function(t){if(t.success){var a=t.data,n='\n                  <div style="margin-bottom: 15px;">\n                    <span class="dashicons dashicons-yes-alt" style="color: #46b450;"></span> '.concat(a.message,"\n                  </div>\n                ");e("#anar-performance-message").html(n),s(a.message,"success")}else e("#anar-performance-message").html('<span class="dashicons dashicons-warning" style="color: #dc3232;"></span> '+t.data.message),s(t.data.message,"error")},error:function(t,a,n){var o="خطا در ارتباط با سرور";e("#anar-performance-message").html('<span class="dashicons dashicons-warning" style="color: #dc3232;"></span> '+o),s(o,"error")},complete:function(){a.prop("disabled",!1).html(n)}})})),e("#anar-clear-sync-times").on("click",(function(t){t.preventDefault();var a=e(this),n=a.html();a.prop("disabled",!0).html('<span class="dashicons dashicons-update"></span> در حال بهینه‌سازی...'),e("#anar-performance-status").show(),e("#anar-performance-message").html('<span class="dashicons dashicons-update" style="animation: spin 1s linear infinite;"></span> در حال بهینه‌سازی پایگاه داده...'),e.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"anar_clear_sync_times"},success:function(t){if(t.success){var a=t.data,n='\n                  <div style="margin-bottom: 15px;">\n                    <span class="dashicons dashicons-yes-alt" style="color: #46b450;"></span> '.concat(a.message,'\n                    <div style="margin-top: 10px; font-size: 12px; color: #666;">\n                      <strong>جزئیات:</strong><br>\n                      • محصولات بروزرسانی شده: ').concat(a.updated_count,"<br>\n                      • محصولات جدید اضافه شده: ").concat(a.inserted_count,"<br>\n                      • کل محصولات پردازش شده: ").concat(a.total_processed,"<br>\n                      • تاریخ تنظیم شده: ").concat(a.reset_date,"\n                    </div>\n                  </div>\n                ");e("#anar-performance-message").html(n),s(a.message,"success")}else e("#anar-performance-message").html('<span class="dashicons dashicons-warning" style="color: #dc3232;"></span> '+t.data.message),s(t.data.message,"error")},error:function(t,a,n){var o="خطا در ارتباط با سرور";e("#anar-performance-message").html('<span class="dashicons dashicons-warning" style="color: #dc3232;"></span> '+o),s(o,"error")},complete:function(){a.prop("disabled",!1).html(n)}})})),e("#anar-test-performance").on("click",(function(t){t.preventDefault();var a=e(this),n=a.html();a.prop("disabled",!0).html('<span class="dashicons dashicons-update"></span> در حال تست...'),e("#anar-performance-status").show(),e("#anar-performance-message").html('<span class="dashicons dashicons-update" style="animation: spin 1s linear infinite;"></span> در حال تست عملکرد کوئری‌ها...'),e.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"anar_test_query_performance"},success:function(t){if(t.success){var a=t.data,n='\n                <div style="margin-bottom: 15px;">\n                  <h4 style="margin: 0 0 10px 0;">نتایج تست عملکرد:</h4>\n                  <table style="width: 100%; border-collapse: collapse;">\n                    <tr style="border-bottom: 1px solid #ddd;">\n                      <td style="padding: 5px;"><strong>روش قدیمی:</strong></td>\n                      <td style="padding: 5px;">'.concat(a.old_approach.time,"ms (").concat(a.old_approach.count,' محصول)</td>\n                    </tr>\n                    <tr style="border-bottom: 1px solid #ddd;">\n                      <td style="padding: 5px;"><strong>روش جدید:</strong></td>\n                      <td style="padding: 5px;">').concat(a.new_approach.time,"ms (").concat(a.new_approach.count,' محصول)</td>\n                    </tr>\n                    <tr>\n                      <td style="padding: 5px;"><strong>بهبود:</strong></td>\n                      <td style="padding: 5px; color: #46b450; font-weight: bold;">').concat(a.improvement,"% سریع‌تر</td>\n                    </tr>\n                  </table>\n                </div>\n              ");e("#anar-performance-message").html('<span class="dashicons dashicons-chart-line" style="color: #46b450;"></span>'+n),s("تست عملکرد با موفقیت انجام شد","success")}else e("#anar-performance-message").html('<span class="dashicons dashicons-warning" style="color: #dc3232;"></span> '+t.data.message),s(t.data.message,"error")},error:function(t,a,n){var o="خطا در ارتباط با سرور";e("#anar-performance-message").html('<span class="dashicons dashicons-warning" style="color: #dc3232;"></span> '+o),s(o,"error")},complete:function(){a.prop("disabled",!1).html(n)}})})),e("#anar-check-index-status").on("click",(function(t){t.preventDefault();var a=e(this),n=a.html();a.prop("disabled",!0).html('<span class="dashicons dashicons-update"></span> در حال بررسی...'),e("#anar-performance-status").show(),e("#anar-performance-message").html('<span class="dashicons dashicons-update" style="animation: spin 1s linear infinite;"></span> در حال بررسی وضعیت ایندکس‌ها...'),e.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"anar_check_index_status"},success:function(t){if(t.success){var a=t.data,n='<div style="margin-bottom: 15px;">';n+='<h4 style="margin: 0 0 10px 0;">وضعیت ایندکس‌های پایگاه داده:</h4>';var o=a.all_exist?'<span style="color: #46b450; font-weight: bold;">✓ همه ایندکس‌ها موجود هستند</span>':'<span style="color: #dc3232; font-weight: bold;">✗ برخی ایندکس‌ها موجود نیستند</span>';n+='<div style="margin-bottom: 10px;">'.concat(o,"</div>"),n+='<table style="width: 100%; border-collapse: collapse; font-size: 12px;">',n+='<tr style="border-bottom: 1px solid #ddd;"><th style="padding: 5px; text-align: left;">ایندکس</th><th style="padding: 5px; text-align: left;">وضعیت</th></tr>',Object.keys(a.status).forEach((function(e){var t="exists"===a.status[e]?'<span style="color: #46b450;">✓ موجود</span>':'<span style="color: #dc3232;">✗ موجود نیست</span>';n+='<tr style="border-bottom: 1px solid #eee;">\n                  <td style="padding: 5px;">'.concat(e,'</td>\n                  <td style="padding: 5px;">').concat(t,"</td>\n                </tr>")})),n+="</table>",n+='<div style="margin-top: 10px; font-size: 11px; color: #666;">\n                '.concat(a.existing_count," از ").concat(a.total_required," ایندکس موجود است\n              </div>"),n+="</div>",e("#anar-performance-message").html('<span class="dashicons dashicons-list-view" style="color: #0073aa;"></span>'+n),a.all_exist?s("همه ایندکس‌ها موجود هستند","success"):s('برخی ایندکس‌ها موجود نیستند. برای بهبود عملکرد، روی "بهینه‌سازی و ریست زمان‌ها" کلیک کنید.',"warning")}else e("#anar-performance-message").html('<span class="dashicons dashicons-warning" style="color: #dc3232;"></span> '+t.data.message),s(t.data.message,"error")},error:function(t,a,n){var o="خطا در ارتباط با سرور";e("#anar-performance-message").html('<span class="dashicons dashicons-warning" style="color: #dc3232;"></span> '+o),s(o,"error")},complete:function(){a.prop("disabled",!1).html(n)}})})),e("#anar-manual-sync-outdated").on("click",(function(t){t.preventDefault();var a=e(this),n=a.html();a.prop("disabled",!0).html('<span class="dashicons dashicons-update"></span> در حال اجرا...'),e("#anar-performance-status").show(),e("#anar-performance-message").html('<span class="dashicons dashicons-update" style="animation: spin 1s linear infinite;"></span> در حال اجرای همگام‌سازی محصولات منسوخ...'),e.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"anar_manual_sync_outdated"},success:function(t){if(t.success){var a=t.data,n='\n                  <div style="margin-bottom: 15px;">\n                    <span class="dashicons dashicons-yes-alt" style="color: #46b450;"></span> '.concat(a.message,'\n                    <div style="margin-top: 10px; font-size: 12px; color: #666;">\n                      <strong>جزئیات:</strong><br>\n                      • محصولات پردازش شده: ').concat(a.processed,"<br>\n                      • محصولات ناموفق: ").concat(a.failed,"<br>\n                      • کل محصولات بررسی شده: ").concat(a.total_checked,"\n                    </div>\n                  </div>\n                ");e("#anar-performance-message").html(n),s(a.message,"success")}else e("#anar-performance-message").html('<span class="dashicons dashicons-warning" style="color: #dc3232;"></span> '+t.data.message),s(t.data.message,"error")},error:function(t,a,n){var o="خطا در ارتباط با سرور";e("#anar-performance-message").html('<span class="dashicons dashicons-warning" style="color: #dc3232;"></span> '+o),s(o,"error")},complete:function(){a.prop("disabled",!1).html(n)}})})),e("#anar-zero-profit-products").on("click",(function(t){t.preventDefault(),e("#anar-zero-profit-loading").show(),e("#anar-zero-profit-content").hide(),m.show("anar-zero-profit-modal"),e.ajax({url:awca_ajax_object.ajax_url,type:"POST",data:{action:"anar_get_zero_profit_products",nonce:awca_ajax_object.nonce},success:function(t){if(t.success){var a=t.data;e("#anar-zero-profit-count").text(a.count),e("#anar-zero-profit-list").html(a.html),e("#anar-zero-profit-loading").hide(),e("#anar-zero-profit-content").show()}else e("#anar-zero-profit-loading").hide(),e("#anar-zero-profit-content").html('<p style="text-align: center; color: #dc3232; padding: 20px;">خطا در دریافت اطلاعات: '+t.data+"</p>").show()},error:function(t,a,n){e("#anar-zero-profit-loading").hide(),e("#anar-zero-profit-content").html('<p style="text-align: center; color: #dc3232; padding: 20px;">خطا در ارتباط با سرور</p>').show()}})}))}));a(816),a(464)})()})();